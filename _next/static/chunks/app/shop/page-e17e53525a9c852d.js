(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21],{9013:function(e,t,r){Promise.resolve().then(r.t.bind(r,5775,23)),Promise.resolve().then(r.bind(r,8784))},6889:function(e,t,r){"use strict";function addToCart(e,t,r){let o=localStorage.getItem("cart");if(null===o){localStorage.setItem("cart",e.toString()+"|1"),r(1);return}let n=o.split(",");for(let o=0;o<n.length;o++)if(""!==function(e,t,r,o,n){let s=e[t],[i,c]=s.split("|").map(e=>parseInt(e));if(null===i||null===c)return console.error("localStorage key 'cart' is not written to properly and can't be read, item not added to cart"),"error";if(i===o){if(!(r-c>0))return alert("We only had ".concat(r," of these watches")),"error";{n(c+1),e[t]=i+"|"+(c+1).toString();let r=e.join(",");return localStorage.setItem("cart",r),s}}return""}(n,o,t,e,r))return;let s="".concat(o,",").concat(e,"|1");r(1),localStorage.setItem("cart",s)}function removeFromCart(e,t){let r=localStorage.getItem("cart");if(null===r){console.error("Users should not be able to remove items from cart when they have no cart");return}let o=r.split(","),n=o.findIndex(t=>(function(e,t){let[r,o]=e.split("|").map(e=>parseInt(e));if(r===t)return!(o<1)||(console.error("Users should not be able to remove items from cart when 0, or less items are left"),!1)})(t,e)),s=o[n];if(void 0===s){console.error("Purchase not found in cart, on search resulted in error");return}let[i,c]=s.split("|").map(e=>parseInt(e)),d=c-1;t(d);let a="".concat(i,"|").concat(d);if(d<=0){if(1===o.length){localStorage.removeItem("cart");return}o.splice(n,1)}else o[n]=a;let l=o.join(",");localStorage.setItem("cart",l)}r.d(t,{X:function(){return addToCart},h:function(){return removeFromCart}})},8784:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Shop}});var o=r(7437),n=r(2265),s=r(7616),i=r.n(s),c=r(9150);function Tags(e){let{productInfo:t,styles:r}=e;return(0,o.jsxs)("div",{className:r["product-tags"],children:[t.tags.map((e,t)=>(0,o.jsx)("span",{children:e},t)),(0,o.jsx)("div",{className:r["fading-cover"]})]})}var d=r(5647);function Info(e){let{styles:t,productInfo:r}=e,n=!(0,d.isNull)(r.discount),s=n?r.price-r.price*r.discount/100:0;return(0,o.jsxs)("div",{className:t["product-info"],style:n?{}:{opacity:.5},children:[(0,o.jsx)("span",{style:n?{color:"#f00",textDecoration:"line-through"}:{},children:r.price}),n&&(0,o.jsxs)(o.Fragment,{children:[" ",(0,o.jsx)("span",{style:{color:"#0a0"},children:s})]}),(0,o.jsx)("b",{children:"pkr "}),n&&(0,o.jsxs)("span",{className:t["product-discount"],children:[r.discount,"% off"]})]})}var a=r(8910),l=r(9159),u=r.n(l),p=r(3159),f=r(6889);function AddToCart(e){let{product:t}=e,[r,s]=(0,n.useState)(0);return(0,n.useEffect)(()=>{s(function(e){let t=localStorage.getItem("cart");if(null===t)return 0;let r=t.split(",");for(let t=0;t<r.length;t++){let o=r[t],[n,s]=o.split("|").map(e=>parseInt(e));if(n===e)return s}return 0}(t.id))},[t]),(0,o.jsx)(o.Fragment,{children:r?(0,o.jsxs)("div",{className:[u()["control-cart"],u().position].join(" "),children:[(0,o.jsx)("button",{onClick:function(){(0,f.h)(t.id,s)},children:"-"}),(0,o.jsx)("p",{children:r}),(0,o.jsx)("button",{onClick:function(){(0,f.X)(t.id,t.in_stock_amount,s)},children:"+"})]}):(0,o.jsxs)("button",{onClick:function(){(0,f.X)(t.id,t.in_stock_amount,s)},className:[u()["add-to-cart"],u().position].join(" "),children:[(0,o.jsx)(p.rI6,{}),(0,o.jsx)("p",{children:"Add"})]})})}var m=r(4530);function Close(e){let{setDisplaySize:t,setContentShadow:r}=e;return(0,o.jsx)("div",{className:i().close,onClick:function(){t({width:"100%",height:"100%",top:"0%",right:"0%",backdropFilter:"blur(0px) brightness(100%)"}),r({boxShadow:"0px 0px 0px 0px #0000"}),setTimeout(()=>{t({width:"0%",height:"0%",top:"50%",right:"50%",backdropFilter:"blur(0px) brightness(100%)"})},300)},children:(0,o.jsx)(c.LHV,{})})}function Specs(e){let{productInfo:t}=e;return(0,o.jsxs)("div",{className:i()["product-specs"],children:[(0,o.jsx)("div",{className:i().seperator}),(0,o.jsxs)("div",{className:i()["product-dial-size"],children:[t.dial_size,(0,o.jsx)("b",{children:"mm"}),(0,o.jsx)("div",{children:(0,o.jsx)(a.oKj,{})})]}),(0,o.jsx)("div",{className:i().seperator})]})}function Content(e){let{setDisplaySize:t,setContentShadow:r,contentShadow:s,productsInfo:c,productIndex:d}=e,[a,l]=(0,n.useState)(c[d]);(0,n.useEffect)(()=>{l(c[d])},[d]);let u={backgroundImage:"url(".concat(a.image_path,")")},p=(0,m.Z)(800);return(0,o.jsxs)("div",{className:i().content,style:s,children:[(0,o.jsx)(Close,{setDisplaySize:t,setContentShadow:r}),!p&&(0,o.jsx)("div",{className:i()["product-image"],style:u}),(0,o.jsxs)("div",{className:i()["product-details"],children:[(0,o.jsx)("div",{className:i()["product-name"],children:a.display_name}),(0,o.jsx)(Info,{productInfo:a,styles:i()}),(0,o.jsx)(Tags,{productInfo:a,styles:i()}),(0,o.jsx)("div",{className:i()["product-qualities"],children:a.qualities}),(0,o.jsx)(Specs,{productInfo:a}),(0,o.jsx)(AddToCart,{product:a})]}),p&&(0,o.jsx)("div",{className:i()["product-image"],style:u})]})}function ProductDisplay(e){let{setDisplaySize:t,setContentShadow:r,contentShadow:n,displaySize:s,productsInfo:c,productIndex:d}=e;return(0,o.jsx)("div",{className:i().display,style:s,children:(0,o.jsx)(Content,{setDisplaySize:t,setContentShadow:r,contentShadow:n,productsInfo:c,productIndex:d})})}var h=r(5895),_=r.n(h);function Description(e){let{productInfo:t}=e;return(0,o.jsxs)("div",{className:_()["product-description"],children:[(0,o.jsx)(Info,{productInfo:t,styles:_()}),(0,o.jsx)(Tags,{productInfo:t,styles:_()})]})}function Product(e){let{setDisplaySize:t,setContentShadow:r,productInfo:n,setProductIndex:s}=e,i={backgroundImage:"url(".concat(n.image_path,")")};return(0,o.jsxs)("div",{className:_().product,onClick:function(){s(),t({width:"100%",height:"100%",top:"0%",right:"0%"}),r({boxShadow:"2px 4px 5px 2px #0005"}),setTimeout(()=>{t({width:"100%",height:"100%",top:"0%",right:"0%",backdropFilter:"blur(5px) brightness(80%)",backgroundColor:"#1113"})},300)},children:[(0,o.jsx)("div",{className:_()["product-name"],children:n.display_name}),(0,o.jsx)("div",{className:_()["product-image"],style:i}),(0,o.jsx)(Description,{productInfo:n})]})}function InfoToProductCards(e){let{setDisplaySize:t,setContentShadow:r,productsInfo:n,setProductIndex:s}=e;return Array(n.length).fill(!0).map((e,i)=>(0,o.jsx)(Product,{setDisplaySize:t,setContentShadow:r,productInfo:n[i],setProductIndex:function(){s(i)}},i))}function Products(e){let{setDisplaySize:t,setContentShadow:r,setProductIndex:n,productsInfo:s,productsRef:i}=e;return(0,o.jsx)("div",{className:_().products,ref:i,children:(0,o.jsx)(InfoToProductCards,{setDisplaySize:t,setContentShadow:r,productsInfo:s,setProductIndex:n})})}var x=r(5775),g=r.n(x);function isElement(e){return void 0===e?(console.error("element is not a div, returning a new random div"),document.createElement("div")):e}function ShowPoints(e){let{intervalDates:t,productsRef:r,productsInfo:s,timelineRef:i}=e;return(0,n.useEffect)(()=>{var e;let o=function(e,t,r){var o;let n=null===(o=e.current)||void 0===o?void 0:o.children;if(void 0===n)return console.error("productsRef children are undefined"),[];let s=Array.from(n),i=0,c=t.map(e=>{for(let t=i;t<r.length;t++){let o=r[t];if(o.added_on>=e)return i+=1,isElement(s[t])}return console.error("Could not find corrosponding element for date, which should not be possible, returning a new dummy element"),document.createElement("div")});return c}(r,t,s),n=null===(e=i.current)||void 0===e?void 0:e.children;if(void 0===n){console.error("Children is undefined, timeline should have children");return}Array.from(n).forEach((e,t)=>{e.addEventListener("click",function(){let e=isElement(o[t]);e.scrollIntoView({block:"center"}),e.classList.add(g()["corrosponding-product"]),setTimeout(()=>e.classList.remove(g()["corrosponding-product"]),1e3)})})},[]),t.map((e,t)=>(0,o.jsx)("div",{className:g()["point-in-timeline"],children:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{children:e.getUTCFullYear()}),(0,o.jsx)("div",{children:function(e){switch(e){case 1:return"Jan";case 2:return"Feb";case 3:return"Mar";case 4:return"Apr";case 5:return"May";case 6:return"Jun";case 7:return"Jul";case 8:return"Aug";case 9:return"Sep";case 10:return"Oct";case 11:return"Nov";case 12:return"Dec";default:return console.error("numbers should be between 1-12 inclusive"),"None"}}(e.getMonth()+1)})]})},t))}function Timeline(e){let{productsInfo:t,productsRef:r}=e,s=(0,n.useRef)(null),i=new Date("2500-11-29"),c=new Date(0);t.forEach(e=>{e.added_on>c&&(c=e.added_on),e.added_on<i&&(i=e.added_on)});let d=c.valueOf()-i.valueOf(),a=d/4,l=[,,,,].fill(!0).map((e,t)=>new Date(i.valueOf()+a*t));return l.push(c),(0,o.jsx)("div",{className:g()["simple-timeline"],ref:s,children:(0,o.jsx)(ShowPoints,{intervalDates:l,productsRef:r,productsInfo:t,timelineRef:s})})}function Shop(e){let{productsInfo:t}=e,[r,s]=(0,n.useState)({width:"0%",height:"0%",top:"50%",right:"50%",backdropFilter:"blur(5px) brightness(80%)"}),[i,c]=(0,n.useState)({boxShadow:"0px 0px 0px 0px #0005"}),[d,a]=(0,n.useState)(0),l=(0,n.useRef)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Timeline,{productsInfo:t,productsRef:l}),(0,o.jsx)(Products,{setDisplaySize:s,setContentShadow:c,productsInfo:t,setProductIndex:a,productsRef:l}),(0,o.jsx)(ProductDisplay,{displaySize:r,setDisplaySize:s,contentShadow:i,setContentShadow:c,productsInfo:t,productIndex:d})]})}},4530:function(e,t,r){"use strict";var o=r(2265);function updateBrokePoint(e,t){e(window.innerWidth<t)}t.Z=function(e){let[t,r]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{updateBrokePoint(r,e),window.addEventListener("resize",()=>{updateBrokePoint(r,e)})}),t}},9159:function(e){e.exports={position:"addToCart_position__18qAH","add-to-cart":"addToCart_add-to-cart___EG4_","control-cart":"addToCart_control-cart__iIS0L"}},5775:function(e){e.exports={main:"page_main__zbVJZ","timeline-holder":"page_timeline-holder__Ne6dp","simple-timeline":"page_simple-timeline__Z8MO6","point-in-timeline":"page_point-in-timeline__snfT_","corrosponding-product":"page_corrosponding-product__HeeBy"}},7616:function(e){e.exports={display:"productDisplay_display__08L01",content:"productDisplay_content__iGNfw",close:"productDisplay_close__mMAXp","product-image":"productDisplay_product-image__ZTBcm","product-details":"productDisplay_product-details___Ao_v","product-name":"productDisplay_product-name__ax4YA","product-info":"productDisplay_product-info__UOXjS","product-discount":"productDisplay_product-discount__M6Q76","product-tags":"productDisplay_product-tags__o4H1C","fading-cover":"productDisplay_fading-cover__dQ_0O","product-qualities":"productDisplay_product-qualities__RgHQk","product-specs":"productDisplay_product-specs__IkRXa","product-dial-size":"productDisplay_product-dial-size__G4QHN",seperator:"productDisplay_seperator__frRyw"}},5895:function(e){e.exports={products:"products_products__5fYGU",product:"products_product__510vr","product-name":"products_product-name__Fod9V","product-image":"products_product-image__uM8Xk","product-description":"products_product-description__245HD","product-info":"products_product-info__LqMLD","product-discount":"products_product-discount__Nps8V","product-tags":"products_product-tags__eaQrd","fading-cover":"products_fading-cover__aVhyN"}}},function(e){e.O(0,[582,420,712,282,971,472,744],function(){return e(e.s=9013)}),_N_E=e.O()}]);